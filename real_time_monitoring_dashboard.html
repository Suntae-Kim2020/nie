<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡°ë¥˜ ì¶©ëŒ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4ade80;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: auto auto auto auto;
            gap: 2rem;
        }

        .widget {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .widget:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f1f5f9;
        }

        .widget-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #374151;
        }

        .status-cards {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .status-card {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .status-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .status-card.critical {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .status-card.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .status-card.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .status-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .status-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .alert-panel {
            grid-column: 1 / -1;
            max-height: 300px;
            overflow-y: auto;
        }

        .alert-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .alert-item.critical {
            background: #fef2f2;
            border-color: #ef4444;
        }

        .alert-item.high {
            background: #fffbeb;
            border-color: #f59e0b;
        }

        .alert-item.medium {
            background: #f0f9ff;
            border-color: #3b82f6;
        }

        .alert-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
        }

        .alert-content {
            flex: 1;
        }

        .alert-message {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .alert-time {
            font-size: 0.8rem;
            color: #6b7280;
        }

        .map-container {
            grid-column: 1 / 3;
            height: 400px;
        }

        #monitoring-map {
            width: 100%;
            height: 100%;
            border-radius: 8px;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .data-table {
            overflow-x: auto;
            max-height: 300px;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.9rem;
        }

        .data-table th {
            background: #f9fafb;
            font-weight: 600;
            color: #374151;
            position: sticky;
            top: 0;
        }

        .refresh-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s;
        }

        .refresh-btn:hover {
            background: #2563eb;
        }

        .update-time {
            font-size: 0.8rem;
            color: #6b7280;
        }

        .species-heatmap {
            grid-column: 3;
            grid-row: 3 / 5;
        }

        .recommendation-panel {
            grid-column: 1 / 3;
        }

        .recommendation-item {
            background: #f8fafc;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }

        .recommendation-priority {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .priority-critical {
            background: #fee2e2;
            color: #dc2626;
        }

        .priority-high {
            background: #fef3c7;
            color: #d97706;
        }

        .priority-medium {
            background: #dbeafe;
            color: #2563eb;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1>ğŸ¦ ì¡°ë¥˜ ì¶©ëŒ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ</h1>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì¤‘</span>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <!-- ìƒíƒœ ì¹´ë“œ -->
        <div class="status-cards">
            <div class="status-card">
                <div class="status-value" id="total-accidents">0</div>
                <div class="status-label">ì£¼ê°„ ì´ ì‚¬ê³ </div>
            </div>
            <div class="status-card warning">
                <div class="status-value" id="active-alerts">0</div>
                <div class="status-label">í™œì„± ì•Œë¦¼</div>
            </div>
            <div class="status-card critical">
                <div class="status-value" id="high-risk-regions">0</div>
                <div class="status-label">ê³ ìœ„í—˜ ì§€ì—­</div>
            </div>
            <div class="status-card success">
                <div class="status-value" id="monitoring-regions">0</div>
                <div class="status-label">ëª¨ë‹ˆí„°ë§ ì§€ì—­</div>
            </div>
        </div>

        <!-- ì•Œë¦¼ íŒ¨ë„ -->
        <div class="widget alert-panel">
            <div class="widget-header">
                <h3 class="widget-title">ğŸš¨ ì‹¤ì‹œê°„ ì•Œë¦¼</h3>
                <button class="refresh-btn" onclick="refreshAlerts()">ìƒˆë¡œê³ ì¹¨</button>
            </div>
            <div id="alerts-container">
                <!-- ì•Œë¦¼ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ì‹¤ì‹œê°„ ì§€ë„ -->
        <div class="widget map-container">
            <div class="widget-header">
                <h3 class="widget-title">ğŸ“ ì‹¤ì‹œê°„ ì‚¬ê³  ì§€ì </h3>
                <span class="update-time" id="map-update-time">ì—…ë°ì´íŠ¸: ë°©ê¸ˆ ì „</span>
            </div>
            <div id="monitoring-map"></div>
        </div>

        <!-- ì‹œê°„ë³„ ì¶”ì´ ì°¨íŠ¸ -->
        <div class="widget">
            <div class="widget-header">
                <h3 class="widget-title">ğŸ“Š ì‹œê°„ë³„ ì‚¬ê³  ì¶”ì´</h3>
            </div>
            <div class="chart-container">
                <canvas id="trend-chart"></canvas>
            </div>
        </div>

        <!-- ì§€ì—­ë³„ ìœ„í—˜ë„ -->
        <div class="widget">
            <div class="widget-header">
                <h3 class="widget-title">ğŸŒ ì§€ì—­ë³„ ìœ„í—˜ë„</h3>
            </div>
            <div class="chart-container">
                <canvas id="region-risk-chart"></canvas>
            </div>
        </div>

        <!-- ì¢…ë³„ ì‚¬ê³  í˜„í™© -->
        <div class="widget species-heatmap">
            <div class="widget-header">
                <h3 class="widget-title">ğŸ¦… ì¢…ë³„ ì‚¬ê³  í˜„í™©</h3>
            </div>
            <div class="data-table">
                <table id="species-table">
                    <thead>
                        <tr>
                            <th>ì¢…ëª…</th>
                            <th>ì‚¬ê³ ìˆ˜</th>
                            <th>ìœ„í—˜ë„</th>
                        </tr>
                    </thead>
                    <tbody id="species-tbody">
                        <!-- ë°ì´í„°ê°€ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­ -->
        <div class="widget recommendation-panel">
            <div class="widget-header">
                <h3 class="widget-title">ğŸ’¡ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­</h3>
            </div>
            <div id="recommendations-container">
                <!-- ê¶Œì¥ì‚¬í•­ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let monitoringMap;
        let trendChart;
        let regionRiskChart;
        let currentData = null;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initializeMap();
            initializeCharts();
            loadMonitoringData();
            
            // 30ì´ˆë§ˆë‹¤ ë°ì´í„° ì—…ë°ì´íŠ¸
            setInterval(loadMonitoringData, 30000);
        });

        // ì§€ë„ ì´ˆê¸°í™”
        function initializeMap() {
            monitoringMap = L.map('monitoring-map').setView([36.5, 127.8], 7);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(monitoringMap);
        }

        // ì°¨íŠ¸ ì´ˆê¸°í™”
        function initializeCharts() {
            // ì‹œê°„ë³„ ì¶”ì´ ì°¨íŠ¸
            const trendCtx = document.getElementById('trend-chart').getContext('2d');
            trendChart = new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'ì¼ì¼ ì‚¬ê³  ê±´ìˆ˜',
                        data: [],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // ì§€ì—­ë³„ ìœ„í—˜ë„ ì°¨íŠ¸
            const regionCtx = document.getElementById('region-risk-chart').getContext('2d');
            regionRiskChart = new Chart(regionCtx, {
                type: 'doughnut',
                data: {
                    labels: [],
                    datasets: [{
                        data: [],
                        backgroundColor: [
                            '#ef4444', '#f59e0b', '#3b82f6', '#10b981',
                            '#8b5cf6', '#f97316', '#06b6d4', '#84cc16'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // ëª¨ë‹ˆí„°ë§ ë°ì´í„° ë¡œë“œ
        async function loadMonitoringData() {
            try {
                const response = await fetch('monitoring_report.json');
                if (!response.ok) {
                    // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
                    generateSimulatedData();
                    return;
                }
                
                currentData = await response.json();
                updateDashboard(currentData);
            } catch (error) {
                console.log('ì‹¤ì œ ë°ì´í„°ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ì–´ ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.');
                generateSimulatedData();
            }
        }

        // ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
        function generateSimulatedData() {
            const regions = ['ì„œìš¸', 'ê²½ê¸°', 'ì¸ì²œ', 'ë¶€ì‚°', 'ëŒ€êµ¬', 'ê´‘ì£¼', 'ì „ë¶', 'ì „ë‚¨'];
            const species = ['ë©§ë¹„ë‘˜ê¸°', 'ì§ë°•êµ¬ë¦¬', 'ì°¸ìƒˆ', 'ë¬¼ê¹Œì¹˜', 'ë°•ìƒˆ'];
            const facilities = ['ë°©ìŒë²½', 'ê±´ë¬¼', 'ê¸°íƒ€'];
            
            // ë‚ ì§œ ìƒì„± (ìµœê·¼ 7ì¼)
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
            }

            // ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
            const dailyStats = dates.map(date => ({
                ë°œê²¬ì¼: date,
                ì‹œë„ëª…: regions[Math.floor(Math.random() * regions.length)],
                ì‚¬ê³ ê±´ìˆ˜: Math.floor(Math.random() * 15) + 1,
                ê°œì²´ìˆ˜: Math.floor(Math.random() * 20) + 1
            }));

            const alerts = [];
            dailyStats.forEach(stat => {
                if (stat.ì‚¬ê³ ê±´ìˆ˜ >= 10) {
                    alerts.push({
                        timestamp: new Date().toISOString(),
                        region: stat.ì‹œë„ëª…,
                        date: stat.ë°œê²¬ì¼,
                        risk_level: 'critical',
                        accidents: stat.ì‚¬ê³ ê±´ìˆ˜,
                        individuals: stat.ê°œì²´ìˆ˜,
                        message: `ğŸš¨ ê¸´ê¸‰: ${stat.ì‹œë„ëª…}ì—ì„œ ${stat.ë°œê²¬ì¼}ì¼ ${stat.ì‚¬ê³ ê±´ìˆ˜}ê±´ì˜ ì¡°ë¥˜ ì¶©ëŒ ì‚¬ê³  ë°œìƒ`
                    });
                } else if (stat.ì‚¬ê³ ê±´ìˆ˜ >= 5) {
                    alerts.push({
                        timestamp: new Date().toISOString(),
                        region: stat.ì‹œë„ëª…,
                        date: stat.ë°œê²¬ì¼,
                        risk_level: 'high',
                        accidents: stat.ì‚¬ê³ ê±´ìˆ˜,
                        individuals: stat.ê°œì²´ìˆ˜,
                        message: `âš ï¸ ì£¼ì˜: ${stat.ì‹œë„ëª…}ì—ì„œ ${stat.ë°œê²¬ì¼}ì¼ ${stat.ì‚¬ê³ ê±´ìˆ˜}ê±´ì˜ ì¡°ë¥˜ ì¶©ëŒ ì‚¬ê³  ë°œìƒ`
                    });
                }
            });

            const simulatedData = {
                report_metadata: {
                    generated_at: new Date().toISOString(),
                    data_period: 'ìµœê·¼ 7ì¼',
                    total_records: dailyStats.reduce((sum, stat) => sum + stat.ì‚¬ê³ ê±´ìˆ˜, 0),
                    monitoring_regions: regions.length
                },
                current_status: {
                    total_accidents_week: dailyStats.reduce((sum, stat) => sum + stat.ì‚¬ê³ ê±´ìˆ˜, 0),
                    total_individuals: dailyStats.reduce((sum, stat) => sum + stat.ê°œì²´ìˆ˜, 0),
                    affected_regions: regions.length,
                    main_facilities: { 'ë°©ìŒë²½': 150, 'ê±´ë¬¼': 45, 'ê¸°íƒ€': 20 }
                },
                active_alerts: alerts,
                daily_statistics: dailyStats,
                predicted_hotspots: regions.slice(0, 5).map((region, i) => ({
                    ì‹œë„ëª…: region,
                    ì‹œêµ°êµ¬ëª…: region + 'ì‹œ',
                    ì‚¬ê³ ê±´ìˆ˜: Math.floor(Math.random() * 50) + 20,
                    ìœ„í—˜ë„ì ìˆ˜: Math.floor(Math.random() * 100) + 50
                }))
            };

            updateDashboard(simulatedData);
        }

        // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
        function updateDashboard(data) {
            // ìƒíƒœ ì¹´ë“œ ì—…ë°ì´íŠ¸
            document.getElementById('total-accidents').textContent = data.current_status.total_accidents_week;
            document.getElementById('active-alerts').textContent = data.active_alerts.length;
            document.getElementById('high-risk-regions').textContent = data.predicted_hotspots.filter(h => h.ìœ„í—˜ë„ì ìˆ˜ > 70).length;
            document.getElementById('monitoring-regions').textContent = data.current_status.affected_regions;

            // ì•Œë¦¼ íŒ¨ë„ ì—…ë°ì´íŠ¸
            updateAlerts(data.active_alerts);

            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateCharts(data);

            // ì§€ë„ ì—…ë°ì´íŠ¸
            updateMap(data);

            // ì¢…ë³„ í…Œì´ë¸” ì—…ë°ì´íŠ¸
            updateSpeciesTable();

            // ê¶Œì¥ì‚¬í•­ ì—…ë°ì´íŠ¸
            updateRecommendations();

            // ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ
            document.getElementById('map-update-time').textContent = 
                `ì—…ë°ì´íŠ¸: ${new Date().toLocaleTimeString()}`;
        }

        // ì•Œë¦¼ ì—…ë°ì´íŠ¸
        function updateAlerts(alerts) {
            const container = document.getElementById('alerts-container');
            container.innerHTML = '';

            if (alerts.length === 0) {
                container.innerHTML = '<p style="color: #6b7280; text-align: center; padding: 2rem;">í˜„ì¬ í™œì„± ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            alerts.slice(0, 5).forEach(alert => {
                const alertDiv = document.createElement('div');
                alertDiv.className = `alert-item ${alert.risk_level}`;
                
                const icon = alert.risk_level === 'critical' ? 'ğŸš¨' : 
                           alert.risk_level === 'high' ? 'âš ï¸' : 'â„¹ï¸';
                
                alertDiv.innerHTML = `
                    <div class="alert-icon">${icon}</div>
                    <div class="alert-content">
                        <div class="alert-message">${alert.message}</div>
                        <div class="alert-time">${new Date(alert.timestamp).toLocaleString()}</div>
                    </div>
                `;
                
                container.appendChild(alertDiv);
            });
        }

        // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateCharts(data) {
            // ì‹œê°„ë³„ ì¶”ì´ ì°¨íŠ¸
            const dailyData = data.daily_statistics.slice(-7);
            trendChart.data.labels = dailyData.map(d => new Date(d.ë°œê²¬ì¼).toLocaleDateString());
            trendChart.data.datasets[0].data = dailyData.map(d => d.ì‚¬ê³ ê±´ìˆ˜);
            trendChart.update();

            // ì§€ì—­ë³„ ìœ„í—˜ë„ ì°¨íŠ¸
            const hotspots = data.predicted_hotspots.slice(0, 8);
            regionRiskChart.data.labels = hotspots.map(h => h.ì‹œë„ëª…);
            regionRiskChart.data.datasets[0].data = hotspots.map(h => h.ìœ„í—˜ë„ì ìˆ˜);
            regionRiskChart.update();
        }

        // ì§€ë„ ì—…ë°ì´íŠ¸
        function updateMap(data) {
            // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
            monitoringMap.eachLayer(layer => {
                if (layer instanceof L.Marker) {
                    monitoringMap.removeLayer(layer);
                }
            });

            // í•«ìŠ¤íŒŸ ì§€ì—­ì— ë§ˆì»¤ ì¶”ê°€ (ì‹œë®¬ë ˆì´ì…˜)
            const regionCoords = {
                'ì„œìš¸': [37.5665, 126.9780],
                'ê²½ê¸°': [37.4138, 127.5183],
                'ì¸ì²œ': [37.4563, 126.7052],
                'ë¶€ì‚°': [35.1796, 129.0756],
                'ëŒ€êµ¬': [35.8714, 128.6014],
                'ê´‘ì£¼': [35.1595, 126.8526],
                'ì „ë¶': [35.7175, 127.1530],
                'ì „ë‚¨': [34.8679, 126.9910]
            };

            data.predicted_hotspots.slice(0, 8).forEach(hotspot => {
                const coords = regionCoords[hotspot.ì‹œë„ëª…];
                if (coords) {
                    const riskLevel = hotspot.ìœ„í—˜ë„ì ìˆ˜ > 70 ? 'high' : 
                                    hotspot.ìœ„í—˜ë„ì ìˆ˜ > 50 ? 'medium' : 'low';
                    
                    const marker = L.marker(coords).addTo(monitoringMap);
                    marker.bindPopup(`
                        <strong>${hotspot.ì‹œë„ëª…}</strong><br>
                        ì‚¬ê³ ê±´ìˆ˜: ${hotspot.ì‚¬ê³ ê±´ìˆ˜}ê±´<br>
                        ìœ„í—˜ë„: ${hotspot.ìœ„í—˜ë„ì ìˆ˜}ì <br>
                        ìƒíƒœ: ${riskLevel === 'high' ? 'ê³ ìœ„í—˜' : riskLevel === 'medium' ? 'ì¤‘ìœ„í—˜' : 'ì €ìœ„í—˜'}
                    `);
                }
            });
        }

        // ì¢…ë³„ í…Œì´ë¸” ì—…ë°ì´íŠ¸
        function updateSpeciesTable() {
            const tbody = document.getElementById('species-tbody');
            const species = [
                { name: 'ë©§ë¹„ë‘˜ê¸°', accidents: 185, risk: 'ë†’ìŒ' },
                { name: 'ì§ë°•êµ¬ë¦¬', accidents: 142, risk: 'ë†’ìŒ' },
                { name: 'ì°¸ìƒˆ', accidents: 98, risk: 'ì¤‘ê°„' },
                { name: 'ë¬¼ê¹Œì¹˜', accidents: 76, risk: 'ì¤‘ê°„' },
                { name: 'ë°•ìƒˆ', accidents: 54, risk: 'ë‚®ìŒ' }
            ];

            tbody.innerHTML = species.map(s => `
                <tr>
                    <td>${s.name}</td>
                    <td>${s.accidents}</td>
                    <td><span class="priority-${s.risk === 'ë†’ìŒ' ? 'critical' : s.risk === 'ì¤‘ê°„' ? 'high' : 'medium'}">${s.risk}</span></td>
                </tr>
            `).join('');
        }

        // ê¶Œì¥ì‚¬í•­ ì—…ë°ì´íŠ¸
        function updateRecommendations() {
            const container = document.getElementById('recommendations-container');
            const recommendations = [
                { priority: 'critical', text: 'ê´‘ì£¼, ì „ë¶ ì§€ì—­ ê¸´ê¸‰ í˜„ì¥ ì ê²€ í•„ìš”', deadline: '24ì‹œê°„ ì´ë‚´' },
                { priority: 'high', text: 'ë°©ìŒë²½ ì§€ì—­ ì¡°ë¥˜ íšŒí”¼ ì¥ì¹˜ ë³´ê°•', deadline: '1ì£¼ì¼ ì´ë‚´' },
                { priority: 'medium', text: 'ë©§ë¹„ë‘˜ê¸° ì´ë™ ê²½ë¡œ ì¶”ê°€ ì¡°ì‚¬', deadline: '2ì£¼ì¼ ì´ë‚´' }
            ];

            container.innerHTML = recommendations.map(rec => `
                <div class="recommendation-item">
                    <span class="recommendation-priority priority-${rec.priority}">${rec.priority.toUpperCase()}</span>
                    <div>${rec.text}</div>
                    <small style="color: #6b7280;">ê¸°í•œ: ${rec.deadline}</small>
                </div>
            `).join('');
        }

        // ì•Œë¦¼ ìƒˆë¡œê³ ì¹¨
        function refreshAlerts() {
            loadMonitoringData();
        }
    </script>
</body>
</html>